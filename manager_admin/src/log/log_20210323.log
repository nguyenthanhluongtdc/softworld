2021-03-23 02:36:19 [INFO] ACTION: RunAction#run:[, ]
2021-03-23 02:36:19 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:36:19 [DEBUG] ACTION: GET:Array
(
)

2021-03-23 02:36:19 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 02:36:19 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:36:19 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 02:36:19 [INFO] ACTION: RunAction#run:[login, ]
2021-03-23 02:36:19 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:36:19 [DEBUG] ACTION: GET:Array
(
    [req] => login
)

2021-03-23 02:36:19 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:36:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:36:19 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 02:36:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 02:36:19 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 02:47:14 [INFO] ACTION: RunAction#run:[, ]
2021-03-23 02:47:14 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:47:14 [DEBUG] ACTION: GET:Array
(
)

2021-03-23 02:47:14 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 02:47:14 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:47:14 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 02:47:14 [INFO] ACTION: RunAction#run:[login, ]
2021-03-23 02:47:14 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:47:14 [DEBUG] ACTION: GET:Array
(
    [req] => login
)

2021-03-23 02:47:14 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:47:14 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:47:14 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 02:47:14 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 02:47:14 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 02:47:18 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 02:47:18 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => admin
)

2021-03-23 02:47:18 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:47:18 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => 21232f297a57a5a743894a0e4a801fc3
)
)]
2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = '21232f297a57a5a743894a0e4a801fc3' AND deleted_flag <> 1)
2021-03-23 02:47:18 [DEBUG] ACTION: MStaffRoleDao#select[input sql = (SELECT role_id FROM m_staff_roles where  staff_id = :staff_id), params = (Array
(
    [staff_id] => 1
)
)]
2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT role_id FROM m_staff_roles where  staff_id = '1')
2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 02:47:18 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 02:47:19 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 02:47:19 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:47:19 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 02:47:19 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:47:19 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 02:47:19 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 02:47:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 02:47:19 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 02:47:22 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 02:47:22 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:47:22 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 02:47:22 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 02:47:22 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:47:22 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 02:47:22 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 02:47:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 02:47:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 02:52:21 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 02:52:21 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:52:21 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 02:52:21 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 02:52:21 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 02:52:21 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 02:52:21 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 02:52:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 02:52:21 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 02:52:23 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 02:52:23 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 02:52:23 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 02:52:23 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 02:52:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 02:52:23 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 04:52:05 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 04:52:05 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 04:52:05 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 04:52:05 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 04:52:05 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 04:52:05 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 04:52:05 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 04:52:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 04:52:05 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:34 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 05:04:34 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:34 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 05:04:34 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:04:34 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:04:34 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 05:04:34 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:04:34 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:04:34 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:36 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 05:04:36 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:36 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 05:04:36 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:04:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:04:36 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:37 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 05:04:37 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:37 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 05:04:37 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:04:37 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 05:04:37 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:04:37 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:04:37 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #66a234
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-22
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #b6e60a
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-22
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:39 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:04:39 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:39 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:04:39 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:42 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 05:04:42 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:42 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 05:04:42 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:04:42 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 05:04:42 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:04:42 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:04:42 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #66a234
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-22
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #b6e60a
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-22
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:44 [INFO] ACTION: RunAction#run:[typeevent, edit]
2021-03-23 05:04:44 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:44 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => edit
    [id] => 17
)

2021-03-23 05:04:44 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT * FROM e_event_type WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 17
)
)]
2021-03-23 05:04:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type WHERE id = 17 and deleted_flag <> 1)
2021-03-23 05:04:44 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #66a234
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-22
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:50 [INFO] ACTION: RunAction#run:[typeevent, edit]
2021-03-23 05:04:50 [DEBUG] ACTION: POST:Array
(
    [id] => 17
    [name_type] => lễ tình yêu trắng
    [code_color] => #ffffff
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-22
)

2021-03-23 05:04:50 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => edit
    [id] => 17
)

2021-03-23 05:04:50 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"17","name_type":"l\u1ec5 t\u00ecnh y\u00eau tr\u1eafng","code_color":"#ffffff","deleted_tag":null,"updated_time":"2021-03-22","created_time":"2021-03-22","updated_user":"1","created_user":"1","code_type":"letinhyeutrang"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [code_type] => letinhyeutrang
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:04:52 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:04:52 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-22
    [regist_step] => 2
    [json_regist_data] => {"id":"17","name_type":"l\u1ec5 t\u00ecnh y\u00eau tr\u1eafng","code_color":"#ffffff","deleted_tag":null,"updated_time":"2021-03-22","created_time":"2021-03-22","updated_user":"1","created_user":"1","code_type":"letinhyeutrang"}
)

2021-03-23 05:04:52 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:04:52 [DEBUG] ACTION: MTypeEventDao#update[params=(Array
(
    [id] => 17
    [name_type] => lễ tình yêu trắng
    [code_color] => #ffffff
    [deleted_tag] => 
    [updated_time] => 2021-03-22
    [created_time] => 2021-03-22
    [updated_user] => 1
    [created_user] => 1
    [code_type] => letinhyeutrang
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 17
        )

)
)]
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event_type SET `id`='17', `name_type`='lễ tình yêu trắng', `code_color`='#ffffff', `updated_time`='2021-03-23 05:04:52', `updated_user`='1', `code_type`='letinhyeutrang' WHERE id = '17' and  (updated_time is NULL OR updated_time = '2021-03-22') and  deleted_flag <> 1)
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event_type SET `id`='17', `name_type`='lễ tình yêu trắng', `code_color`='#ffffff', `updated_time`='2021-03-23 05:04:52', `updated_user`='1', `code_type`='letinhyeutrang' WHERE id = '17' and  (updated_time is NULL OR updated_time = '2021-03-22') and  deleted_flag <> 1)
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 05:04:52 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 05:04:52 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:52 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 05:04:52 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:04:52 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 05:04:52 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:04:52 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:04:52 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #b6e60a
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-22
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 05:04:57 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:04:57 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:04:57 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:04:58 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:09 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:05:09 [DEBUG] ACTION: POST:Array
(
    [id] => 
    [name_type] => lễ tình yêu đen
    [code_color] => #000000
    [regist_step] => 1
    [created_user] => 
    [created_time] => 
    [updated_user] => 
    [updated_time] => 
)

2021-03-23 05:05:09 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:05:09 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"","name_type":"l\u1ec5 t\u00ecnh y\u00eau \u0111en","code_color":"#000000","deleted_tag":null,"updated_time":"","created_time":"","updated_user":"","created_user":"","code_type":"letinhyeuden"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [code_type] => letinhyeuden
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:11 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:05:11 [DEBUG] ACTION: POST:Array
(
    [created_user] => 
    [created_time] => 
    [updated_user] => 
    [updated_time] => 
    [regist_step] => 2
    [json_regist_data] => {"id":"","name_type":"l\u1ec5 t\u00ecnh y\u00eau \u0111en","code_color":"#000000","deleted_tag":null,"updated_time":"","created_time":"","updated_user":"","created_user":"","code_type":"letinhyeuden"}
)

2021-03-23 05:05:11 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:05:11 [DEBUG] ACTION: MTypeEventDao#insert[params=(Array
(
    [id] => 
    [name_type] => lễ tình yêu đen
    [code_color] => #000000
    [deleted_tag] => 
    [updated_time] => 
    [created_time] => 
    [updated_user] => 
    [created_user] => 
    [code_type] => letinhyeuden
)
)]
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#insert[run sql = (INSERT INTO e_event_type(`name_type`,`code_color`,`created_time`,`created_user`,`code_type`) VALUES ('lễ tình yêu đen','#000000','2021-03-23 05:05:11','1','letinhyeuden');)
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (INSERT INTO e_event_type(`name_type`,`code_color`,`created_time`,`created_user`,`code_type`) VALUES ('lễ tình yêu đen','#000000','2021-03-23 05:05:11','1','letinhyeuden');)
2021-03-23 05:05:11 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 05:05:11 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:11 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 05:05:11 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:11 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 05:05:11 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:11 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

            [2] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #b6e60a
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-22
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 登録が完了しました。
        )

)

2021-03-23 05:05:15 [INFO] ACTION: RunAction#run:[typeevent, edit]
2021-03-23 05:05:15 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:15 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => edit
    [id] => 18
)

2021-03-23 05:05:15 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT * FROM e_event_type WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 18
)
)]
2021-03-23 05:05:15 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type WHERE id = 18 and deleted_flag <> 1)
2021-03-23 05:05:15 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #b6e60a
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-22
                    [updated_time] => 
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:21 [INFO] ACTION: RunAction#run:[typeevent, edit]
2021-03-23 05:05:21 [DEBUG] ACTION: POST:Array
(
    [id] => 18
    [name_type] => lễ tình yêu
    [code_color] => #c8ff00
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 
    [updated_time] => 
)

2021-03-23 05:05:21 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => edit
    [id] => 18
)

2021-03-23 05:05:21 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"18","name_type":"l\u1ec5 t\u00ecnh y\u00eau","code_color":"#c8ff00","deleted_tag":null,"updated_time":"","created_time":"2021-03-22","updated_user":"","created_user":"1","code_type":"letinhyeu"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [code_type] => letinhyeu
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:22 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 05:05:22 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 
    [updated_time] => 
    [regist_step] => 2
    [json_regist_data] => {"id":"18","name_type":"l\u1ec5 t\u00ecnh y\u00eau","code_color":"#c8ff00","deleted_tag":null,"updated_time":"","created_time":"2021-03-22","updated_user":"","created_user":"1","code_type":"letinhyeu"}
)

2021-03-23 05:05:22 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 05:05:22 [DEBUG] ACTION: MTypeEventDao#update[params=(Array
(
    [id] => 18
    [name_type] => lễ tình yêu
    [code_color] => #c8ff00
    [deleted_tag] => 
    [updated_time] => 
    [created_time] => 2021-03-22
    [updated_user] => 
    [created_user] => 1
    [code_type] => letinhyeu
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 18
        )

)
)]
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event_type SET `id`='18', `name_type`='lễ tình yêu', `code_color`='#c8ff00', `updated_time`='2021-03-23 05:05:22', `updated_user`='1', `code_type`='letinhyeu' WHERE id = '18' and  (updated_time is NULL OR updated_time = '') and  deleted_flag <> 1)
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event_type SET `id`='18', `name_type`='lễ tình yêu', `code_color`='#c8ff00', `updated_time`='2021-03-23 05:05:22', `updated_user`='1', `code_type`='letinhyeu' WHERE id = '18' and  (updated_time is NULL OR updated_time = '') and  deleted_flag <> 1)
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 05:05:22 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 05:05:22 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:22 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 05:05:22 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:22 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 05:05:22 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 05:05:24 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 05:05:24 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:24 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 05:05:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:24 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:24 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 05:05:24 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:24 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:31 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 05:05:31 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:31 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 05:05:31 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:31 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:31 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 05:05:31 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:31 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:32 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 05:05:32 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:32 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 05:05:32 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:32 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:38 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 05:05:38 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:38 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 05:05:38 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:38 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:38 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 05:05:38 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:38 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:46 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 05:05:46 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:46 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 05:05:46 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:46 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:46 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 05:05:47 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 05:05:47 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 05:05:47 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 05:05:47 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 05:05:47 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 05:05:47 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 05:05:47 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 05:05:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 05:05:47 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 07:09:43 [INFO] ACTION: RunAction#run:[, ]
2021-03-23 07:09:43 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:09:43 [DEBUG] ACTION: GET:Array
(
)

2021-03-23 07:09:43 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 07:09:43 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:09:43 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 07:09:43 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 07:09:43 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 07:09:43 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 07:09:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 07:09:43 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 07:09:48 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 07:09:48 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:09:48 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 07:09:49 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 07:09:49 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 07:09:49 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 07:09:50 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 07:09:50 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:09:50 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 07:09:50 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 07:09:50 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 07:09:50 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 07:09:50 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 07:09:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 07:09:50 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 07:17:33 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 07:17:33 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:17:33 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 07:17:33 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 07:17:33 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 07:17:33 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 07:17:33 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 07:17:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 07:17:33 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 07:17:35 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 07:17:35 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 07:17:35 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 07:17:35 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 07:17:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 07:17:35 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 08:15:11 [INFO] ACTION: RunAction#run:[, ]
2021-03-23 08:15:11 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 08:15:11 [DEBUG] ACTION: GET:Array
(
)

2021-03-23 08:15:11 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 08:15:11 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 08:15:11 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 08:15:12 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 08:15:12 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 08:15:12 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 08:15:12 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 08:15:12 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 08:15:12 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 08:15:12 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:12:13 [INFO] ACTION: RunAction#run:[, ]
2021-03-23 09:12:13 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:12:13 [DEBUG] ACTION: GET:Array
(
)

2021-03-23 09:12:13 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 09:12:13 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:12:13 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 09:12:13 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:12:13 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 09:12:13 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:12:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:12:13 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:19:36 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:19:36 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:19:36 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:19:36 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:19:36 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:19:36 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:19:36 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:19:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:19:36 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:19:38 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:19:38 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:19:38 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:19:38 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:19:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:19:38 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:19:50 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:19:50 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:19:50 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:19:50 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:19:50 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:19:50 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:26:36 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:26:36 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:26:36 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:26:36 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:26:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:26:36 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:27:26 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:27:26 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:27:26 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:27:26 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:27:26 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:27:26 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:27:26 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:27:26 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:27:27 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:27:27 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:27:27 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:27:27 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:27:27 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:27:27 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:27:27 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:27:27 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:27:27 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:27:27 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:27:31 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:27:31 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:27:31 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:27:31 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:27:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:27:31 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:28:01 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:28:01 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:28:01 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:28:01 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:28:01 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:28:01 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:29:28 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:29:28 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:29:28 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:29:29 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:29:29 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:29:29 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:30:22 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:30:22 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:30:22 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:30:22 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:30:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:30:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:30:27 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:30:27 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:30:27 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:30:27 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:30:27 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:30:27 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:31:05 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:31:05 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:31:05 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:31:05 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:31:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:31:05 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:31:06 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:31:06 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:31:06 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:31:06 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:31:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:31:06 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:31:22 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:31:22 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:31:22 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:31:22 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:31:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:31:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:31:23 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:31:23 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:31:23 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:31:23 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:31:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:31:23 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:32:44 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:32:44 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:32:44 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:32:44 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:32:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:32:44 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:32:45 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:32:45 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:32:45 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:32:45 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:32:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:32:45 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:35:51 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:35:51 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:35:51 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:35:51 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:35:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:35:51 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:35:58 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:35:58 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:35:58 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:35:58 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:35:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:35:58 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:36:25 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:36:25 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:36:25 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:36:25 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:36:25 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:36:25 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:06 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:40:06 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:06 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:40:06 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:06 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:10 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:40:10 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:10 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:40:10 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:10 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:10 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:11 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:40:11 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:11 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:40:11 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:11 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:40:11 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:40:11 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:40:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:40:11 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:13 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:40:13 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:13 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 21
)

2021-03-23 09:40:13 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:13 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT * FROM e_event WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 21
)
)]
2021-03-23 09:40:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event WHERE id = 21 and deleted_flag <> 1)
2021-03-23 09:40:13 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:13 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-22
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:19 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:40:19 [DEBUG] ACTION: POST:Array
(
    [id] => 21
    [event_name] => tour ninh thuận
    [start_time] => 2021-03-23T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương
    [phone_customer] => 0987337774
    [email_customer] => luong.nt@gmail.com
    [number_adults] => 7
    [number_kid] => 2
    [type_id] => 17
    [status] => 0
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-22
)

2021-03-23 09:40:19 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 21
)

2021-03-23 09:40:19 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:19 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:40:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:40:19 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:19 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:40:19 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:40:19 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"21","event_name":"tour ninh thu\u1eadn","start_time":"2021-03-23T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng","phone_customer":"0987337774","email_customer":"luong.nt@gmail.com","number_adults":"7","number_kid":"2","type_id":"17","status":"0","deleted_tag":null,"updated_time":"2021-03-22","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [type_name] => lễ tình yêu trắng
    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:40:22 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:40:22 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-22
    [regist_step] => 2
    [json_regist_data] => {"id":"21","event_name":"tour ninh thu\u1eadn","start_time":"2021-03-23T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng","phone_customer":"0987337774","email_customer":"luong.nt@gmail.com","number_adults":"7","number_kid":"2","type_id":"17","status":"0","deleted_tag":null,"updated_time":"2021-03-22","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
)

2021-03-23 09:40:22 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:40:23 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:23 [DEBUG] ACTION: MEventDao#update[params=(Array
(
    [id] => 21
    [event_name] => tour ninh thuận
    [start_time] => 2021-03-23T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương
    [phone_customer] => 0987337774
    [email_customer] => luong.nt@gmail.com
    [number_adults] => 7
    [number_kid] => 2
    [type_id] => 17
    [status] => 0
    [deleted_tag] => 
    [updated_time] => 2021-03-22
    [created_time] => 2021-03-22
    [updated_user] => 1
    [created_user] => 1
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 21
        )

    [0] => 
)
)]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event SET `id`='21', `event_name`='tour ninh thuận', `start_time`='2021-03-23T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương', `phone_customer`='0987337774', `email_customer`='luong.nt@gmail.com', `number_adults`='7', `number_kid`='2', `type_id`='17', `status`='0', `updated_time`='2021-03-23 09:40:23', `updated_user`='1' WHERE id = '21' and  (updated_time is NULL OR updated_time = '2021-03-22') and  deleted_flag <> 1)
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event SET `id`='21', `event_name`='tour ninh thuận', `start_time`='2021-03-23T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương', `phone_customer`='0987337774', `email_customer`='luong.nt@gmail.com', `number_adults`='7', `number_kid`='2', `type_id`='17', `status`='0', `updated_time`='2021-03-23 09:40:23', `updated_user`='1' WHERE id = '21' and  (updated_time is NULL OR updated_time = '2021-03-22') and  deleted_flag <> 1)
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 09:40:23 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:40:23 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:23 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:40:23 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:23 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:40:23 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:40:23 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:40:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:40:23 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 09:40:29 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:40:29 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:40:29 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:40:29 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:40:29 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:40:29 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:22 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:41:22 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:22 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:41:22 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:22 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:41:22 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:23 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:41:23 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:23 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:41:23 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:23 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:41:23 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:23 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:23 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:24 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:41:24 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:24 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:24 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:24 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:41:24 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:24 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:41:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:24 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:28 [INFO] ACTION: RunAction#run:[login, logout]
2021-03-23 09:41:28 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:28 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => logout
)

2021-03-23 09:41:28 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:28 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:28 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 09:41:28 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 09:41:28 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [isLogout] => 1
    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 09:41:32 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 09:41:32 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => admin
)

2021-03-23 09:41:32 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:32 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => 21232f297a57a5a743894a0e4a801fc3
)
)]
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = '21232f297a57a5a743894a0e4a801fc3' AND deleted_flag <> 1)
2021-03-23 09:41:32 [DEBUG] ACTION: MStaffRoleDao#select[input sql = (SELECT role_id FROM m_staff_roles where  staff_id = :staff_id), params = (Array
(
    [staff_id] => 1
)
)]
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT role_id FROM m_staff_roles where  staff_id = '1')
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 09:41:32 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 09:41:32 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:32 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 09:41:32 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:32 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 09:41:32 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:32 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:35 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:41:35 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:35 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:41:35 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:35 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:35 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:41:35 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:35 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:38 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:41:38 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:38 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 21
)

2021-03-23 09:41:38 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:38 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT * FROM e_event WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 21
)
)]
2021-03-23 09:41:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event WHERE id = 21 and deleted_flag <> 1)
2021-03-23 09:41:38 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:38 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:38 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:45 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:41:45 [DEBUG] ACTION: POST:Array
(
    [id] => 21
    [event_name] => tour ninh thuận
    [start_time] => 2021-03-23T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương update
    [phone_customer] => 0987337774
    [email_customer] => luong.nt@gmail.com
    [number_adults] => 7
    [number_kid] => 2
    [type_id] => 17
    [status] => 0
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-23
)

2021-03-23 09:41:45 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 21
)

2021-03-23 09:41:45 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:45 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:41:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:41:45 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:45 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:41:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:41:45 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"21","event_name":"tour ninh thu\u1eadn","start_time":"2021-03-23T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng update","phone_customer":"0987337774","email_customer":"luong.nt@gmail.com","number_adults":"7","number_kid":"2","type_id":"17","status":"0","deleted_tag":null,"updated_time":"2021-03-23","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [type_name] => lễ tình yêu trắng
    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:41:47 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:41:47 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-23
    [regist_step] => 2
    [json_regist_data] => {"id":"21","event_name":"tour ninh thu\u1eadn","start_time":"2021-03-23T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng update","phone_customer":"0987337774","email_customer":"luong.nt@gmail.com","number_adults":"7","number_kid":"2","type_id":"17","status":"0","deleted_tag":null,"updated_time":"2021-03-23","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
)

2021-03-23 09:41:47 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:41:47 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:47 [DEBUG] ACTION: MEventDao#update[params=(Array
(
    [id] => 21
    [event_name] => tour ninh thuận
    [start_time] => 2021-03-23T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương update
    [phone_customer] => 0987337774
    [email_customer] => luong.nt@gmail.com
    [number_adults] => 7
    [number_kid] => 2
    [type_id] => 17
    [status] => 0
    [deleted_tag] => 
    [updated_time] => 2021-03-23
    [created_time] => 2021-03-22
    [updated_user] => 1
    [created_user] => 1
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 21
        )

    [0] => 
)
)]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event SET `id`='21', `event_name`='tour ninh thuận', `start_time`='2021-03-23T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương update', `phone_customer`='0987337774', `email_customer`='luong.nt@gmail.com', `number_adults`='7', `number_kid`='2', `type_id`='17', `status`='0', `updated_time`='2021-03-23 09:41:47', `updated_user`='1' WHERE id = '21' and  (updated_time is NULL OR updated_time = '2021-03-23') and  deleted_flag <> 1)
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event SET `id`='21', `event_name`='tour ninh thuận', `start_time`='2021-03-23T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương update', `phone_customer`='0987337774', `email_customer`='luong.nt@gmail.com', `number_adults`='7', `number_kid`='2', `type_id`='17', `status`='0', `updated_time`='2021-03-23 09:41:47', `updated_user`='1' WHERE id = '21' and  (updated_time is NULL OR updated_time = '2021-03-23') and  deleted_flag <> 1)
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 09:41:47 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:41:47 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:47 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:41:47 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:47 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:47 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:41:47 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:47 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 09:41:51 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:41:51 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:41:51 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:41:51 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:41:51 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:41:51 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:41:51 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:41:51 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:41:51 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:13 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:42:13 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:13 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 22
)

2021-03-23 09:42:13 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:13 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT * FROM e_event WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 22
)
)]
2021-03-23 09:42:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event WHERE id = 22 and deleted_flag <> 1)
2021-03-23 09:42:13 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:13 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:13 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 
                    [created_time] => 2021-03-22
                    [updated_user] => 0
                    [created_user] => 1
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:20 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:42:20 [DEBUG] ACTION: POST:Array
(
    [id] => 22
    [event_name] => tour đà lạt
    [start_time] => 2021-03-22T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương
    [phone_customer] => 098-7654-43
    [email_customer] => luong.ntupdate@gmail.com
    [number_adults] => 0
    [number_kid] => 0
    [type_id] => 17
    [status] => 1
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 0
    [updated_time] => 
)

2021-03-23 09:42:20 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 22
)

2021-03-23 09:42:20 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:20 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:42:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:42:20 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:20 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:42:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:42:20 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"22","event_name":"tour \u0111\u00e0 l\u1ea1t","start_time":"2021-03-22T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng","phone_customer":"098-7654-43","email_customer":"luong.ntupdate@gmail.com","number_adults":"0","number_kid":"0","type_id":"17","status":"1","deleted_tag":null,"updated_time":"","created_time":"2021-03-22","updated_user":"0","created_user":"1"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [type_name] => lễ tình yêu trắng
    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:21 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:42:21 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 0
    [updated_time] => 
    [regist_step] => 2
    [json_regist_data] => {"id":"22","event_name":"tour \u0111\u00e0 l\u1ea1t","start_time":"2021-03-22T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng","phone_customer":"098-7654-43","email_customer":"luong.ntupdate@gmail.com","number_adults":"0","number_kid":"0","type_id":"17","status":"1","deleted_tag":null,"updated_time":"","created_time":"2021-03-22","updated_user":"0","created_user":"1"}
)

2021-03-23 09:42:21 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:42:21 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:21 [DEBUG] ACTION: MEventDao#update[params=(Array
(
    [id] => 22
    [event_name] => tour đà lạt
    [start_time] => 2021-03-22T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương
    [phone_customer] => 098-7654-43
    [email_customer] => luong.ntupdate@gmail.com
    [number_adults] => 0
    [number_kid] => 0
    [type_id] => 17
    [status] => 1
    [deleted_tag] => 
    [updated_time] => 
    [created_time] => 2021-03-22
    [updated_user] => 0
    [created_user] => 1
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 22
        )

    [0] => 
)
)]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event SET `id`='22', `event_name`='tour đà lạt', `start_time`='2021-03-22T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương', `phone_customer`='098-7654-43', `email_customer`='luong.ntupdate@gmail.com', `number_adults`='0', `number_kid`='0', `type_id`='17', `status`='1', `updated_time`='2021-03-23 09:42:21', `updated_user`='1' WHERE id = '22' and  (updated_time is NULL OR updated_time = '') and  deleted_flag <> 1)
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event SET `id`='22', `event_name`='tour đà lạt', `start_time`='2021-03-22T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương', `phone_customer`='098-7654-43', `email_customer`='luong.ntupdate@gmail.com', `number_adults`='0', `number_kid`='0', `type_id`='17', `status`='1', `updated_time`='2021-03-23 09:42:21', `updated_user`='1' WHERE id = '22' and  (updated_time is NULL OR updated_time = '') and  deleted_flag <> 1)
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 09:42:21 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:42:21 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:21 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:42:21 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:21 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:21 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:42:21 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:21 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 09:42:24 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:42:24 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:24 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 22
)

2021-03-23 09:42:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:24 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT * FROM e_event WHERE id = :id and deleted_flag <> 1), params = (Array
(
    [id] => 22
)
)]
2021-03-23 09:42:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event WHERE id = 22 and deleted_flag <> 1)
2021-03-23 09:42:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:24 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:31 [INFO] ACTION: RunAction#run:[event, edit]
2021-03-23 09:42:31 [DEBUG] ACTION: POST:Array
(
    [id] => 22
    [event_name] => tour đà lạt
    [start_time] => 2021-03-22T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương update 2
    [phone_customer] => 098-7654-43
    [email_customer] => luong.ntupdate@gmail.com
    [number_adults] => 0
    [number_kid] => 0
    [type_id] => 17
    [status] => 1
    [regist_step] => 1
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-23
)

2021-03-23 09:42:31 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => edit
    [id] => 22
)

2021-03-23 09:42:31 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:31 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:42:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:42:31 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:31 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (select name_type from e_event_type where id = :id), params = (Array
(
    [id] => 17
)
)]
2021-03-23 09:42:31 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (select name_type from e_event_type where id = '17')
2021-03-23 09:42:31 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [json_regist_data] => {"id":"22","event_name":"tour \u0111\u00e0 l\u1ea1t","start_time":"2021-03-22T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng update 2","phone_customer":"098-7654-43","email_customer":"luong.ntupdate@gmail.com","number_adults":"0","number_kid":"0","type_id":"17","status":"1","deleted_tag":null,"updated_time":"2021-03-23","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [type_name] => lễ tình yêu trắng
    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:32 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:42:32 [DEBUG] ACTION: POST:Array
(
    [created_user] => 1
    [created_time] => 2021-03-22
    [updated_user] => 1
    [updated_time] => 2021-03-23
    [regist_step] => 2
    [json_regist_data] => {"id":"22","event_name":"tour \u0111\u00e0 l\u1ea1t","start_time":"2021-03-22T09:16","end_time":"2021-03-22T09:16","name_customer":"Nguy\u1ec5n th\u00e0nh l\u01b0\u01a1ng update 2","phone_customer":"098-7654-43","email_customer":"luong.ntupdate@gmail.com","number_adults":"0","number_kid":"0","type_id":"17","status":"1","deleted_tag":null,"updated_time":"2021-03-23","created_time":"2021-03-22","updated_user":"1","created_user":"1"}
)

2021-03-23 09:42:32 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:42:32 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:32 [DEBUG] ACTION: MEventDao#update[params=(Array
(
    [id] => 22
    [event_name] => tour đà lạt
    [start_time] => 2021-03-22T09:16
    [end_time] => 2021-03-22T09:16
    [name_customer] => Nguyễn thành lương update 2
    [phone_customer] => 098-7654-43
    [email_customer] => luong.ntupdate@gmail.com
    [number_adults] => 0
    [number_kid] => 0
    [type_id] => 17
    [status] => 1
    [deleted_tag] => 
    [updated_time] => 2021-03-23
    [created_time] => 2021-03-22
    [updated_user] => 1
    [created_user] => 1
)
), where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 22
        )

    [0] => 
)
)]
2021-03-23 09:42:32 [DEBUG] ACTION: BaseMySqliDao#update[run sql = (UPDATE e_event SET `id`='22', `event_name`='tour đà lạt', `start_time`='2021-03-22T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương update 2', `phone_customer`='098-7654-43', `email_customer`='luong.ntupdate@gmail.com', `number_adults`='0', `number_kid`='0', `type_id`='17', `status`='1', `updated_time`='2021-03-23 09:42:32', `updated_user`='1' WHERE id = '22' and  (updated_time is NULL OR updated_time = '2021-03-23') and  deleted_flag <> 1)
2021-03-23 09:42:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (UPDATE e_event SET `id`='22', `event_name`='tour đà lạt', `start_time`='2021-03-22T09:16', `end_time`='2021-03-22T09:16', `name_customer`='Nguyễn thành lương update 2', `phone_customer`='098-7654-43', `email_customer`='luong.ntupdate@gmail.com', `number_adults`='0', `number_kid`='0', `type_id`='17', `status`='1', `updated_time`='2021-03-23 09:42:32', `updated_user`='1' WHERE id = '22' and  (updated_time is NULL OR updated_time = '2021-03-23') and  deleted_flag <> 1)
2021-03-23 09:42:32 [DEBUG] ACTION: BaseMySqliDao#update result = (1)
2021-03-23 09:42:33 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:42:33 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:33 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:42:33 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:33 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:33 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:42:33 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:33 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:33 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 更新が完了しました。
        )

)

2021-03-23 09:42:35 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:42:35 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:35 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:42:35 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:35 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:35 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:42:35 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:35 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:35 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:44 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:42:44 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:44 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:42:44 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:44 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:42:44 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:44 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:46 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 09:42:46 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:46 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 09:42:46 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:46 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 09:42:46 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:46 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:46 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:47 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:42:47 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:47 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:42:47 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:47 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:47 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:42:47 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:47 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:47 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:48 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 09:42:48 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:48 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 09:42:48 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:48 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:48 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:42:58 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:42:58 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:42:58 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:42:58 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:42:58 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:42:58 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:42:58 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:42:58 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:42:58 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [2] => Array
                (
                    [id] => 23
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:43:06 [INFO] ACTION: RunAction#run:[event, delete]
2021-03-23 09:43:06 [DEBUG] ACTION: POST:Array
(
    [redirect] => http://project_php.local/index.php?req=event
    [delete_event_id] => 23
)

2021-03-23 09:43:06 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => delete
)

2021-03-23 09:43:06 [DEBUG] ACTION: MEventDao#delete[where=(Array
(
    [where] => id = :id
    [params] => Array
        (
            [id] => 23
        )

)
)]
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#delete[run sql = (DELETE FROM e_event WHERE id = 23)
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (DELETE FROM e_event WHERE id = 23)
2021-03-23 09:43:06 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
    [listErrorMessage] => Array
        (
            [message] => 削除が完了しました。
        )

)

2021-03-23 09:43:06 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 09:43:06 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:43:06 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 09:43:06 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:43:06 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:43:06 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:43:06 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:43:06 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:43:06 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:43:20 [INFO] ACTION: RunAction#run:[event, search]
2021-03-23 09:43:20 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:43:20 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => search
    [current_page] => 1
    [sort_condition] => 
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
    [page_size] => 20
)

2021-03-23 09:43:20 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:43:20 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:43:20 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:43:20 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:43:20 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:43:20 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:43:21 [INFO] ACTION: RunAction#run:[event, search]
2021-03-23 09:43:21 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:43:21 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => search
    [current_page] => 1
    [sort_condition] => 
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
    [page_size] => 100
)

2021-03-23 09:43:21 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:43:21 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:43:21 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (100), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:43:21 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:43:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:43:22 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:43:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:43:22 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,100), params = ()]
2021-03-23 09:43:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,100)
2021-03-23 09:43:22 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:43:22 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:43:22 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 100
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 09:43:24 [INFO] ACTION: RunAction#run:[event, search]
2021-03-23 09:43:24 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 09:43:24 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => search
    [current_page] => 1
    [sort_condition] => 
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
    [page_size] => 5
)

2021-03-23 09:43:24 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 09:43:24 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (5), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 09:43:24 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 09:43:24 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,5), params = ()]
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,5)
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 09:43:24 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 09:43:24 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 5
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:02 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 11:18:02 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:02 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 11:18:02 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 11:18:02 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:02 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 11:18:02 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:18:02 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:18:02 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:11 [INFO] ACTION: RunAction#run:[login, logout]
2021-03-23 11:18:11 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:11 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => logout
)

2021-03-23 11:18:11 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:11 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:11 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:11 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [isLogout] => 1
    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 11:18:29 [INFO] ACTION: RunAction#run:[login, logout]
2021-03-23 11:18:29 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:29 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => logout
)

2021-03-23 11:18:29 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:29 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:29 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:29 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:29 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [isLogout] => 1
    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 11:18:32 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 11:18:32 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => dmin
)

2021-03-23 11:18:32 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:32 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => ece89e1ed092146ef6f8a86aa211a3c3
)
)]
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = 'ece89e1ed092146ef6f8a86aa211a3c3' AND deleted_flag <> 1)
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:32 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:32 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
    [listErrorMessage] => Array
        (
            [0] => Array
                (
                    [message] => ログイン認証に失敗しました。
                )

        )

)

2021-03-23 11:18:36 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 11:18:36 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => admin
)

2021-03-23 11:18:36 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:36 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => 21232f297a57a5a743894a0e4a801fc3
)
)]
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = '21232f297a57a5a743894a0e4a801fc3' AND deleted_flag <> 1)
2021-03-23 11:18:36 [DEBUG] ACTION: MStaffRoleDao#select[input sql = (SELECT role_id FROM m_staff_roles where  staff_id = :staff_id), params = (Array
(
    [staff_id] => 1
)
)]
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT role_id FROM m_staff_roles where  staff_id = '1')
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 11:18:36 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 11:18:36 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:36 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 11:18:36 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:36 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 11:18:36 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:18:36 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:18:36 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:43 [INFO] ACTION: RunAction#run:[event, ]
2021-03-23 11:18:43 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:43 [DEBUG] ACTION: GET:Array
(
    [req] => event
)

2021-03-23 11:18:43 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 11:18:43 [DEBUG] ACTION: MEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc), params = (Array
(
    [id] => 
    [event_name] => 
    [name_customer] => 
    [phone_customer] => 
    [email_customer] => 
)
)]
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:43 [DEBUG] ACTION: MEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A), params = ()]
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc) A)
2021-03-23 11:18:43 [DEBUG] ACTION: MEventDao#select[input sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event 
				WHERE deleted_flag <> 1  order by  IFNULL(e_event.updated_time, e_event.created_time) desc LIMIT 0,20)
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:18:43 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:18:43 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [listEvent] => Array
        (
            [0] => Array
                (
                    [id] => 21
                    [event_name] => tour ninh thuận
                    [start_time] => 2021-03-23 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update
                    [phone_customer] => 0987337774
                    [email_customer] => luong.nt@gmail.com
                    [number_adults] => 7
                    [number_kid] => 2
                    [type_id] => 17
                    [status] => 0
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

            [1] => Array
                (
                    [id] => 22
                    [event_name] => tour đà lạt
                    [start_time] => 2021-03-22 09:16:00
                    [end_time] => 2021-03-22 09:16:00
                    [name_customer] => Nguyễn thành lương update 2
                    [phone_customer] => 098-7654-43
                    [email_customer] => luong.ntupdate@gmail.com
                    [number_adults] => 0
                    [number_kid] => 0
                    [type_id] => 17
                    [status] => 1
                    [deleted_flag] => 0
                    [updated_time] => 2021-03-23
                    [created_time] => 2021-03-22
                    [updated_user] => 1
                    [created_user] => 1
                )

        )

    [currentPage] => 1
    [totalRow] => 2
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:44 [INFO] ACTION: RunAction#run:[event, regist]
2021-03-23 11:18:44 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:44 [DEBUG] ACTION: GET:Array
(
    [req] => event
    [mode] => regist
)

2021-03-23 11:18:44 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 ), params = ()]
2021-03-23 11:18:44 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT id, name_type FROM e_event_type where deleted_flag <> 1 )
2021-03-23 11:18:44 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [dataTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                )

        )

    [urlRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=event&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=event&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=event&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:45 [INFO] ACTION: RunAction#run:[typeevent, ]
2021-03-23 11:18:45 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:45 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
)

2021-03-23 11:18:45 [DEBUG] ACTION: MTypeEventDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc), params = (Array
(
    [id] => 
    [name_type] => 
    [code_color] => 
    [code_type] => 
)
)]
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:45 [DEBUG] ACTION: MTypeEventDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A), params = ()]
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc) A)
2021-03-23 11:18:45 [DEBUG] ACTION: MTypeEventDao#select[input sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20), params = ()]
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM e_event_type
				WHERE deleted_flag <> 1  order by  IFNULL(e_event_type.updated_time, e_event_type.created_time) desc LIMIT 0,20)
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:18:45 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:18:45 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [listTypeEvent] => Array
        (
            [0] => Array
                (
                    [id] => 17
                    [name_type] => lễ tình yêu trắng
                    [code_color] => #ffffff
                    [code_type] => letinhyeutrang
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [1] => Array
                (
                    [id] => 18
                    [name_type] => lễ tình yêu
                    [code_color] => #c8ff00
                    [code_type] => letinhyeu
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 1
                    [created_time] => 2021-03-22
                    [updated_time] => 2021-03-23
                )

            [2] => Array
                (
                    [id] => 19
                    [name_type] => lễ tình yêu đen
                    [code_color] => #000000
                    [code_type] => letinhyeuden
                    [deleted_flag] => 0
                    [created_user] => 1
                    [updated_user] => 
                    [created_time] => 2021-03-23
                    [updated_time] => 
                )

        )

    [currentPage] => 1
    [totalRow] => 3
    [pageSize] => 20
    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:46 [INFO] ACTION: RunAction#run:[typeevent, regist]
2021-03-23 11:18:46 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:46 [DEBUG] ACTION: GET:Array
(
    [req] => typeevent
    [mode] => regist
)

2021-03-23 11:18:46 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [urlRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [urlSearch] => http://project_php.local/index.php?req=typeevent&amp;mode=search
    [urlEdit] => http://project_php.local/index.php?req=typeevent&amp;mode=edit
    [urlDelete] => http://project_php.local/index.php?req=typeevent&amp;mode=delete
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:18:49 [INFO] ACTION: RunAction#run:[login, logout]
2021-03-23 11:18:49 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:49 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => logout
)

2021-03-23 11:18:49 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:49 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:49 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:49 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:18:49 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [isLogout] => 1
    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 11:18:55 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 11:18:55 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => admin
)

2021-03-23 11:18:55 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:55 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => 21232f297a57a5a743894a0e4a801fc3
)
)]
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = '21232f297a57a5a743894a0e4a801fc3' AND deleted_flag <> 1)
2021-03-23 11:18:55 [DEBUG] ACTION: MStaffRoleDao#select[input sql = (SELECT role_id FROM m_staff_roles where  staff_id = :staff_id), params = (Array
(
    [staff_id] => 1
)
)]
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT role_id FROM m_staff_roles where  staff_id = '1')
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 11:18:55 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 11:18:55 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:18:55 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 11:18:55 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:18:55 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 11:18:55 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:18:55 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:18:55 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

2021-03-23 11:19:01 [INFO] ACTION: RunAction#run:[login, logout]
2021-03-23 11:19:01 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:19:01 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => logout
)

2021-03-23 11:19:01 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:19:01 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:19:01 [DEBUG] ACTION: BaseMySqliDao#selectAll[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:19:01 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff where deleted_flag <> 1)
2021-03-23 11:19:01 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => 
        )

    [isLogout] => 1
    [urlLogin] => http://project_php.local/index.php?req=login&amp;mode=login
    [result_ex] => [{&quot;staff_id&quot;:&quot;1&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NGg&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;09876543&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:13&quot;},{&quot;staff_id&quot;:&quot;5&quot;,&quot;staff_name&quot;:&quot;NGUY\u1ec4N TH\u00c0NH L\u01af\u01a0NG&quot;,&quot;staff_name_kana&quot;:&quot;EXAMPLE&quot;,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;21232f297a57a5a743894a0e4a801fc3&quot;,&quot;staff_pos_code&quot;:&quot;ntl&quot;,&quot;staff_prefectures&quot;:&quot;2&quot;,&quot;staff_city&quot;:&quot;tphcm&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098735678&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:&quot;1&quot;,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;4&quot;,&quot;created_time&quot;:&quot;2021-03-01 00:00:00&quot;,&quot;updated_user&quot;:&quot;1&quot;,&quot;updated_time&quot;:&quot;2021-03-16 08:23:26&quot;},{&quot;staff_id&quot;:&quot;6&quot;,&quot;staff_name&quot;:&quot;d&quot;,&quot;staff_name_kana&quot;:null,&quot;staff_office_id&quot;:&quot;1&quot;,&quot;staff_department_id&quot;:&quot;2&quot;,&quot;staff_password&quot;:&quot;d41d8cd98f00b204e9800998ecf8427e&quot;,&quot;staff_pos_code&quot;:&quot;999-888&quot;,&quot;staff_prefectures&quot;:&quot;4&quot;,&quot;staff_city&quot;:&quot;\u9152\u7530\u5e02&quot;,&quot;staff_address&quot;:null,&quot;staff_mansion_info&quot;:null,&quot;staff_phone_num&quot;:&quot;098-7356-789&quot;,&quot;staff_email&quot;:&quot;admin@gmail.com&quot;,&quot;staff_supervisor&quot;:null,&quot;staff_is_notify_mail&quot;:null,&quot;staff_memo&quot;:null,&quot;deleted_flag&quot;:&quot;0&quot;,&quot;created_user&quot;:&quot;1&quot;,&quot;created_time&quot;:&quot;2021-03-17 10:46:17&quot;,&quot;updated_user&quot;:null,&quot;updated_time&quot;:null}]
)

2021-03-23 11:19:05 [INFO] ACTION: RunAction#run:[login, login]
2021-03-23 11:19:05 [DEBUG] ACTION: POST:Array
(
    [staff_email] => admin@gmail.com
    [staff_password] => admin
)

2021-03-23 11:19:05 [DEBUG] ACTION: GET:Array
(
    [req] => login
    [mode] => login
)

2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:19:05 [DEBUG] ACTION: MStaffDao#selectOne[input sql = (SELECT * FROM m_staff WHERE staff_email = :staffEmail AND staff_password = :userPassword AND deleted_flag <> 1), params = (Array
(
    [staffEmail] => admin@gmail.com
    [userPassword] => 21232f297a57a5a743894a0e4a801fc3
)
)]
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT * FROM m_staff WHERE staff_email = 'admin@gmail.com' AND staff_password = '21232f297a57a5a743894a0e4a801fc3' AND deleted_flag <> 1)
2021-03-23 11:19:05 [DEBUG] ACTION: MStaffRoleDao#select[input sql = (SELECT role_id FROM m_staff_roles where  staff_id = :staff_id), params = (Array
(
    [staff_id] => 1
)
)]
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT role_id FROM m_staff_roles where  staff_id = '1')
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#commit
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (COMMIT;)
2021-03-23 11:19:05 [INFO] ACTION: RunAction#run:[index, ]
2021-03-23 11:19:05 [DEBUG] ACTION: POST:Array
(
)

2021-03-23 11:19:05 [DEBUG] ACTION: GET:Array
(
    [req] => index
)

2021-03-23 11:19:05 [DEBUG] ACTION: MProjectDao#selectWithPagging[current page = (1), pageSize = (20), input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = :staff_id
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = :staff_id
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = :staff_id
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc), params = (Array
(
    [staff_id] => 1
    [role_required] => 
)
)]
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#beginTransaction
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (START TRANSACTION;)
2021-03-23 11:19:05 [DEBUG] ACTION: MProjectDao#selectOne[input sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A), params = ()]
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT COUNT(1) AS CNT FROM (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc) A)
2021-03-23 11:19:05 [DEBUG] ACTION: MProjectDao#select[input sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20), params = ()]
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (SELECT
                    pi.prj_id,
                    pi.prj_cust_name,
                    pi.prj_cust_pos_code,
                    pi.prj_cust_prefectures,
                    pi.prj_cust_city,
                    pi.prj_cust_address,
                    pi.prj_cust_mansion_info,
                    history_upd_item_id,
                    #history_updated_time,
                    history_approve_info.id, #History ID
                    history_updated_time
                FROM
                    prj_info pi     INNER JOIN
                    (
                        SELECT
                          pi.prj_id
                          , puh.id
                          , GROUP_CONCAT(DISTINCT puh.upd_item_id ORDER BY upd_item_id) AS history_upd_item_id
                          ,  max(puh.upd_date_time) as history_updated_time
                        FROM
                            prj_info pi
                            INNER JOIN
                            (
                                SELECT
                                    pi.prj_id
                                FROM
                                    prj_info pi
                                    LEFT JOIN (
                                            SELECT
                                                pas.prj_id
                                                , pas.approve_sts
                                            FROM
                                                m_staff s
                                                INNER JOIN prj_approve_status pas
                                                ON
                                                    pas.staff_id = s.staff_id
                                                    AND pas.deleted_flag <> 1
                                                    AND s.deleted_flag <> 1
                                            WHERE
                                                s.staff_is_notify_mail = 1
                                                AND s.staff_id = '1'
                                                AND pas.approve_sts = 1
                                            GROUP BY
                                                pas.prj_id
                                    ) approve
                                    ON
                                        approve.prj_id = pi.prj_id
                                        AND pi.deleted_flag <> 1
                                WHERE
                                    EXISTS(
                                        SELECT 
                                            1
                                        FROM
                                            m_staff
                                        WHERE
                                            staff_id = '1'
                                            AND staff_is_notify_mail = 1
                                            AND deleted_flag <> 1
                                    )
                                    AND IFNULL(approve.approve_sts, 0) <> 1
                                UNION
                                SELECT
                                    p.prj_id
                                FROM
                                    prj_info p
                                    INNER JOIN prj_assign_info pa
                                    ON
                                        p.prj_id = pa.prj_id
                                        AND p.deleted_flag <> 1
                                        AND pa.deleted_flag <> 1
                                        AND pa.prj_role_grp = 1
                                        AND pa.prj_staff_pos = 1
                                        
                                    INNER JOIN m_staff s
                                    ON
                                        pa.prj_staff_id = s.staff_id
                                        AND (
                                                (
                                                    s.staff_id = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND
                                                                IFNULL(psam.prj_pic_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                OR 
                                                (
                                                    s.staff_supervisor = '1'
                                                    AND EXISTS(
                                                        SELECT 
                                                            1
                                                        FROM
                                                            prj_shurui_appr_mgt psam
                                                        WHERE
                                                            pa.prj_id = psam.prj_id
                                                            AND IFNULL(psam.prj_sup_approve_sts, 0) = 0
                                                            AND psam.deleted_flag <> 1
                                                    )
                                                )
                                                
                                        )
                                GROUP BY
                                    p.prj_id

                            ) approve_info
                            ON
                                pi.prj_id = approve_info.prj_id
                            LEFT JOIN prj_update_history puh 
                            ON 
                                approve_info.prj_id = puh.prj_id
                                AND puh.upd_sts = 1
                                AND puh.deleted_flag <> 1
                        GROUP BY
                            pi.prj_id,puh.id
                    ) history_approve_info
                    ON
                        history_approve_info.prj_id = pi.prj_id
                WHERE pi.deleted_flag <> 1
                ORDER BY history_updated_time desc LIMIT 0,20)
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#rollback
2021-03-23 11:19:05 [DEBUG] ACTION: BaseMySqliDao#query[run sql = (ROLLBACK;)
2021-03-23 11:19:05 [DEBUG] ACTION: processAction#attributes:Array
(
    [viewState] => ViewState Object
        (
            [viewState:ViewState:private] => Array
                (
                    [role_login_id] => Array
                        (
                            [0] => 5
                        )

                )

        )

    [sort_condition] =>  IFNULL(pi.updated_time, pi.created_time) desc
    [currentPage] => 1
    [pageSize] => 20
    [totalRow] => 0
    [urlSearch] => http://project_php.local/index.php?req=index&amp;mode=search
    [urlHistory] => http://project_php.local/index.php?req=history&amp;mode=index
    [headerUrlEvent] => http://project_php.local/index.php?req=event
    [headerUrlEventRegist] => http://project_php.local/index.php?req=event&amp;mode=regist
    [headerUrlTypeEvent] => http://project_php.local/index.php?req=typeevent
    [headerUrlTypeEventRegist] => http://project_php.local/index.php?req=typeevent&amp;mode=regist
    [UrlIndex] => http://project_php.local/index.php?req=index
    [userInfo] => Array
        (
            [staff_id] => 1
            [staff_name] => NGUYỄN THÀNH LƯƠNGg
            [staff_name_kana] => EXAMPLE
            [staff_office_id] => 1
            [staff_department_id] => 2
            [staff_password] => 21232f297a57a5a743894a0e4a801fc3
            [staff_pos_code] => ntl
            [staff_prefectures] => 2
            [staff_city] => tphcm
            [staff_address] => 
            [staff_mansion_info] => 
            [staff_phone_num] => 09876543
            [staff_email] => admin@gmail.com
            [staff_supervisor] => 1
            [staff_is_notify_mail] => 
            [staff_memo] => 
            [deleted_flag] => 0
            [created_user] => 4
            [created_time] => 2021-03-01 00:00:00
            [updated_user] => 1
            [updated_time] => 2021-03-16 08:23:13
            [roles] => Array
                (
                    [0] => Array
                        (
                            [role_id] => 5
                        )

                )

        )

    [urlLogout] => http://project_php.local/index.php?req=login&mode=logout
)

